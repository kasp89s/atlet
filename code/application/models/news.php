<?php/** * Модель данных. Новости * */class News_Model extends Model  {	public $table_name = 'news';	public function info_cat(){		$this->db			->join('news_cat', 'news_cat.id', 'self.cat', 'LEFT')			->select('news_cat.id as cat_id, news_cat.name as cat_name')			->where('news_cat.department_id', 1);	}	/**	 * Загрузка используемых категорий новостей	 *	 * @return array	 */    function get_cat(){    	$query = $this->db->query("SELECT cat.id as id, cat.name as name        FROM ml_{$this->_tablename}        JOIN ml_news_cat cat ON cat.id = self.cat        WHERE self.department_id = 1 AND cat.department_id = 1        GROUP BY cat.name        ORDER BY cat.name");        return $query->rows();    }}